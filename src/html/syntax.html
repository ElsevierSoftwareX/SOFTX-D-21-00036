<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2021a"><title>DynaProg</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S3 { border-left: 0px none rgb(0, 0, 0); border-right: 0px none rgb(0, 0, 0); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px; line-height: 15.6px; min-height: 16px; white-space: pre; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;  }
.S4 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }
.S5 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S6 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.S7 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }</style></head><body><div class = rtcContent><h1  class = 'S0' id = 'T_305D4575' ><span>DynaProg</span></h1><div  class = 'S1'><span>Solve multi-stage deterministic decision problems</span></div><h2  class = 'S2' id = 'H_F09D08F5' ><span>Syntax</span></h2><div class = 'preformatted-matlab' style = 'margin: 10px 3px 10px 55px; padding: 10px 10px 10px 5px; '><div  class = 'S3'><span style="white-space: pre"><span >prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, SysName)</span></span></div><div  class = 'S3'><span style="white-space: pre"><span >prob = DynaProg(StateGrid, StateInitial, [], ControlGrid, NStages, SysName)</span></span></div><div  class = 'S3'><span style="white-space: pre"><span >prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, ExtSysName, IntSysName)</span></span></div><div  class = 'S3'><span style="white-space: pre"><span >prob = DynaProg(</span><span style="color: rgb(255, 0, 0);">__</span><span >, Name, Value)</span></span></div><div  class = 'S3'></div><div  class = 'S3'><span style="white-space: pre"><span >prob = run(prob)</span></span></div><div  class = 'S3'><span style="white-space: pre"><span >plot(prob)</span></span></div></div><h2  class = 'S2' id = 'H_31B35881' ><span>Description</span></h2><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_A944F2B8"><span style=' font-family: monospace;'>StateFinal</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_ED3B20E2"><span style=' font-family: monospace;'>SysName</span></a><span style=' font-family: monospace;'>) </span><span>creates the basic problem structure </span><span style=' font-family: monospace;'>prob</span><span>.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, [], </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_ED3B20E2"><span style=' font-family: monospace;'>SysName</span></a><span style=' font-family: monospace;'>)</span><span>  creates the basic problem structure </span><span style=' font-family: monospace;'>prob</span><span>, with no contraints on the final state.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_A944F2B8"><span style=' font-family: monospace;'>StateFinal</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_88B8643C"><span style=' font-family: monospace;'>ExtSysName</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_038C78B9"><span style=' font-family: monospace;'>IntSysName</span></a><span style=' font-family: monospace;'>)</span><span> creates the basic problem structure prob, using the configuration matrices approach.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(__, </span><a href = "#H_2F2B9A2D"><span style=' font-family: monospace;'>Name</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_2F2B9A2D"><span style=' font-family: monospace;'>Value</span></a><span style=' font-family: monospace;'>) </span><span>specifies additional properties and information with parameter/value pairs.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = run(prob) </span><span>runs the optimization algorithm on an existing problem structure and stores the results in the problem structure </span><span style=' font-family: monospace;'>prob</span><span>.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>plot(prob) </span><span>visualizes results of an existing problem structure containing optimization results.</span></div><h2  class = 'S2' id = 'H_7F17859C' ><span>Input Arguments</span></h2><h4  class = 'S4' id = 'H_E1616ABE' ><span style=' font-family: monospace;'>StateGrid</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateGrid</span><span> is a cell array of numeric vectors, where each vector defines the discretized grid for a state variable.</span></div><h4  class = 'S4' id = 'H_B28539B7' ><span style=' font-family: monospace;'>StateInitial</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateInitial</span><span> is a cell array of scalar values, where each value defines the initial value for a state variable.</span></div><h4  class = 'S4' id = 'H_A944F2B8' ><span style=' font-family: monospace;'>StateFinal</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateFinal</span><span> is a cell array of two-element vectors, where each vector defines lower and upper constraints for the final value for each state variable. Each vector must contain the lower and upper bound, in this order.</span></div><h4  class = 'S4' id = 'H_4CD65B8C' ><span style=' font-family: monospace;'>ControlGrid</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>ControlGrid </span><span>is a cell array of numeric vectors, where each vector defines the discretized grid for a control variable.    </span></div><h4  class = 'S4' id = 'H_DDBB8435' ><span style=' font-family: monospace;'>NStages</span><span>    </span></h4><div  class = 'S1'><span style=' font-family: monospace;'>NStages</span><span> is the number of stages of the optimization problem.</span></div><h4  class = 'S4' id = 'H_ED3B20E2' ><span style=' font-family: monospace;'>SysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>SyaName</span><span> is a function handle to the model function. The model function must return the updated state value and the stage cost as a function of the current state value and the control variables. Additionally, it can accept an exogenous input and it can return unfeasibilities.The structure of the model function must be:</span></div><div  class = 'S1'><span>     </span><span style=' font-family: monospace;'>[x_next, stageCost, unfeas] = SysName(x, u, w);</span></div><div  class = 'S1'><span>where:</span></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>x</span><span> is a cell array, where each cell contains the value for a state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable. If not needed, replace with a tilde (~) in the function signature.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>x_next </span><span>is a cell array, where each cell contains the value for the updated state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>stageCost</span><span> is a numeric variable, containing the stage cost.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>unfeas </span><span>is either an empty array a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs. If not needed, return an empty array ([]) in its place.</span></li></ul><h4  class = 'S4' id = 'H_88B8643C' ><span style=' font-family: monospace;'>ExtSysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>ExtSysName </span><span>is a function handle to the external model function. The external model function must return the intermediate variables as a function of the control variables. Additionally, it can accept exogenous inputs and it can return unfeasibilities. The structure of the external model function must be:    </span></div><div  class = 'S1'><span style=' font-family: monospace;'>    [m, unfeas] = ExtSysName(u, w);</span></div><div  class = 'S1'><span>where:</span></div><div  class = 'S1'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable. </span></div><div  class = 'S1'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>m</span><span> is a cell array, where each cell contains the value for an intermediate variable.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>unfeas </span><span>(optional) is a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs.</span></div><h4  class = 'S4' id = 'H_038C78B9' ><span style=' font-family: monospace;'>IntSysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>IntSysName </span><span>is a function handle to the internal model function. The internal model function must return the updated state value and the stage cost as a function of the current state value, the control variables and the intermediate variables. Additionally, it can accept an exogenous input and it can return unfeasibilities (both are optional).</span></div><div  class = 'S1'><span>The structure of the model function must be:</span></div><div  class = 'S1'><span style=' font-family: monospace;'>[x_next, stageCost, unfeas] = IntSysName(x, u, m, w);</span></div><div  class = 'S1'><span>where:</span></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>x</span><span> is a cell array, where each cell contains the value for a state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>m</span><span> is a cell array, where each cell contains the value for an intermediate variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>x_next</span><span> is a cell array, where each cell contains the value for the updated state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>stageCost </span><span>is a numeric variable, containing the stage cost.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>unfeas</span><span> (optional) is a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs.</span></li></ul><h3  class = 'S7' id = 'H_2F2B9A2D' ><span>Name-Value Pair Arguments</span></h3><div  class = 'S1'><span>Optional arguments. Specify each argument with a pair of arguments </span><span style=' font-family: monospace;'>Name, Value. Name </span><span>is one of the argument names specified below and it must be written inside quotes.  </span><span style=' font-family: monospace;'>Value </span><span>is the value you want to specify for that setting. You can specify any number of name-value pair arguments, in any order.</span></div><h4  class = 'S4' id = 'H_AA34F1F5' ><span style=' font-weight: bold; font-family: monospace;'>'UseLevelSet'</span></h4><div  class = 'S1'><span>Enable Level-Set DP. Defaults to false if unspecified.</span></div><h4  class = 'S4' id = 'H_C96247C3' ><span style=' font-weight: bold; font-family: monospace;'>'ExogenousInput'</span></h4><div  class = 'S1'><span>Specify exogenous inputs required for your model in a cell array of numeric vectors. Each vector must have the same length as the number of stages of the optimization problem.</span></div><h4  class = 'S4'><span style=' font-family: monospace;'>'SafeMode'</span></h4><div  class = 'S1'><span>Enable Safe Mode (see the documentation).</span></div><h4  class = 'S4'><span style=' font-family: monospace;'>'StoreControlMap'</span></h4><div  class = 'S1'><span>Store the optimal control variables as a function of state for each stage. This cv map is returned in </span><span style=' font-family: monospace;'>prob.ControlMap</span><span> as a </span><span texencoding="NC" style="vertical-align:-5px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAADsUlEQVRYR+3Xeah2UxQG8N+HjFHmDBmKkOIPhSJCCJmHzzxEyUxKhvCHDBkSRWaZicwlU6IQfxkyJaFQKGPIrKfWqfOd3vPec2/d2+3z7rp1O+/aa69nPWs9e+0FFpO1YDHBYQJkvjE5YWTCyCxl4H9TWstgLxyKgyuZP2N/vNiT3O1wAI7FKmXzNK7H82MIWQM7Y3dsim2Rs97CJ7X3a+yN+Huh7WsoIyvgSpxcmy/Hhfi7J7D4PQvX4DJcjL96bFfH2eX7T1yHRyv437EBTi1/cfExDsI7MwGSPUfjrtr8Bg7Dp2MyfB5Ow354c4TdEtijwG6CB3A+Phthu1SBvaKYOBzfzgTI0oiTZLlZJ+D2HiDL4VqkXI7H9x27BHZM2axYrIW5X8YkZh3cU0ydgV9nAmRt3If3sRM2w2M9Qcb/+rgfz+BS/Ns6NGUXNm9CQNyIc6YAke1L4pLqm5T2Imtoj6SBA+QIHILTy2Ff0++K57DbiAZvfAVsSvQ4fDBQlQ+sXntipkBSUgnqKGxZbCSbUaJkM03ZXrFPQ6aWP2/9sDJubingmeWjzdhATNNnJAHfgC9KqVaq3ggbyWRk+b2W28Y+fdEFuW/VeWyGCMZgUENKK4ryEC7Ck+U5DXxb/R/pTGM3WW3sr6pybIJpBODE+tDH5uDgp9vs++DqjnZvWHK5zYimH2WfMzfCg9iqAohq3T2jqEdsmoqRRik2RuT2x/LRvvDaN32ffbbtgJdbMWyPV+cKyGpV0zmwK6Ob4+GS4qZMlq2Se3uEfRTv3gr83VK/D+cKSMrgqbq8unNS5rCMLZHipunDSMonN3p3FmsDCdCF+GiugKQxTxpz6C4tKU7Tf1OXZIL+qhNkAg/IrDkF0qjM8jilLsBuAnMvZEyJFEdOI7lh51z80TFu2F2rvu+IV+aCkWbMeKTkte/MthTH5siO7Db72qDzrSvbff4jLLmM18Wd+GeU4TjVasaMqTLXluKRI3br4LxrbqkZ66WaFL4cw0om5Iwl+cugmPfIyNUHpJHRPQc0ZWzz3sj7JOy1Zbp7aN41Ub8ElXUrLuiO5PVb3imZDNYs9hYZ27uO+4BsUY3504B3R3xujceR2zy3/LiV3ssDLeAzqkS5Mim/jjysUoJ5JSaJ8ZUp+bepeqkLZFVEqfKIyqiR9WwFGcX5ocdhMp275I5pXHLr1RM69Z9EBNR3eK0kP4mJCg5aU93sg5zMB6MJkPnAQjuGCSMTRmYpA5PSmqXEztjtf/Sp0SWVnCabAAAAAElFTkSuQmCC" width="25" height="18" alt="NC" /></span><span>- by - </span><span texencoding="N_{stages}" style="vertical-align:-6px"><img src="data:image/png;base64,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" width="37.5" height="20" /></span><span> cell array, </span><span texencoding="NC" style="vertical-align:-5px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAADsUlEQVRYR+3Xeah2UxQG8N+HjFHmDBmKkOIPhSJCCJmHzzxEyUxKhvCHDBkSRWaZicwlU6IQfxkyJaFQKGPIrKfWqfOd3vPec2/d2+3z7rp1O+/aa69nPWs9e+0FFpO1YDHBYQJkvjE5YWTCyCxl4H9TWstgLxyKgyuZP2N/vNiT3O1wAI7FKmXzNK7H82MIWQM7Y3dsim2Rs97CJ7X3a+yN+Huh7WsoIyvgSpxcmy/Hhfi7J7D4PQvX4DJcjL96bFfH2eX7T1yHRyv437EBTi1/cfExDsI7MwGSPUfjrtr8Bg7Dp2MyfB5Ow354c4TdEtijwG6CB3A+Phthu1SBvaKYOBzfzgTI0oiTZLlZJ+D2HiDL4VqkXI7H9x27BHZM2axYrIW5X8YkZh3cU0ydgV9nAmRt3If3sRM2w2M9Qcb/+rgfz+BS/Ns6NGUXNm9CQNyIc6YAke1L4pLqm5T2Imtoj6SBA+QIHILTy2Ff0++K57DbiAZvfAVsSvQ4fDBQlQ+sXntipkBSUgnqKGxZbCSbUaJkM03ZXrFPQ6aWP2/9sDJubingmeWjzdhATNNnJAHfgC9KqVaq3ggbyWRk+b2W28Y+fdEFuW/VeWyGCMZgUENKK4ryEC7Ck+U5DXxb/R/pTGM3WW3sr6pybIJpBODE+tDH5uDgp9vs++DqjnZvWHK5zYimH2WfMzfCg9iqAohq3T2jqEdsmoqRRik2RuT2x/LRvvDaN32ffbbtgJdbMWyPV+cKyGpV0zmwK6Ob4+GS4qZMlq2Se3uEfRTv3gr83VK/D+cKSMrgqbq8unNS5rCMLZHipunDSMonN3p3FmsDCdCF+GiugKQxTxpz6C4tKU7Tf1OXZIL+qhNkAg/IrDkF0qjM8jilLsBuAnMvZEyJFEdOI7lh51z80TFu2F2rvu+IV+aCkWbMeKTkte/MthTH5siO7Db72qDzrSvbff4jLLmM18Wd+GeU4TjVasaMqTLXluKRI3br4LxrbqkZ66WaFL4cw0om5Iwl+cugmPfIyNUHpJHRPQc0ZWzz3sj7JOy1Zbp7aN41Ub8ElXUrLuiO5PVb3imZDNYs9hYZ27uO+4BsUY3504B3R3xujceR2zy3/LiV3ssDLeAzqkS5Mim/jjysUoJ5JSaJ8ZUp+bepeqkLZFVEqfKIyqiR9WwFGcX5ocdhMp275I5pXHLr1RM69Z9EBNR3eK0kP4mJCg5aU93sg5zMB6MJkPnAQjuGCSMTRmYpA5PSmqXEztjtf/Sp0SWVnCabAAAAAElFTkSuQmCC" width="25" height="18" alt="NC" /></span><span>being the number of control variables. Each cell is a  </span><span texencoding="N_{SV_1} \times N_{SV_2} \times ... \times N_{SV__{NS}} " style="vertical-align:-10px"><img src="data:image/png;base64,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" width="150.5" height="24" alt="N_{SV_1} x N_{SV_2} x ... x N_{SV__{NS}}" /></span><span> array which contain the optimal value for the correspondant control variable and stage as a function of the state variables.</span></div><h4  class = 'S4' id = 'H_46FC9527' ><span style=' font-family: monospace;'>'StateName'</span></h4><div  class = 'S1'><span>Specify state variables names in a string array. </span></div><h4  class = 'S4' id = 'H_AF88898F' ><span style=' font-family: monospace;'>'ControlName'</span></h4><div  class = 'S1'><span>Specify state variables names in a string array.</span></div><h4  class = 'S4' id = 'H_E4B2F10F' ><span style=' font-weight: bold; font-family: monospace;'>'CostName'</span></h4><div  class = 'S1'><span>Specify the cumulative cost name as a string.</span></div><h4  class = 'S4' id = 'H_340BB385' ><span style=' font-weight: bold; font-family: monospace;'>'Time'</span></h4><div  class = 'S1'><span>Specify time instead of stages. This property is only used in the plots produced with the plot method. It does not affect the optimization.</span></div><h2  class = 'S2'><span>Output Arguments</span></h2><h4  class = 'S4' id = 'H_9FE2499E' ><span style=' font-family: monospace;'>prob</span></h4><div  class = 'S1'><span>Problem structure, containing all the information required to set up and run the optimization. After </span><span style=' font-family: monospace;'>run</span><span> is used on a problem structure to run the optmization algorithm, it also contains the optimization results.</span></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% DynaProg
% Solve multi-stage deterministic decision problems
%% Syntax
%%
% 
%   prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, SysName)
%   prob = DynaProg(StateGrid, StateInitial, [], ControlGrid, NStages, SysName)
%   prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, ExtSysName, IntSysName)
%   prob = DynaProg(__, Name, Value)
%   
%   prob = run(prob)
%   plot(prob)
%
%% Description
% |prob| |= DynaProg(||StateGrid||,| |StateInitial||,| |StateFinal||,| |ControlGrid||,| 
% |NStages||,| |SysName||)| creates the basic problem structure |prob|.
% 
% |prob| |= DynaProg(||StateGrid||,| |StateInitial||, [],| |ControlGrid||,| 
% |NStages||,| |SysName||)|  creates the basic problem structure |prob|, with 
% no contraints on the final state.
% 
% |prob| |= DynaProg(||StateGrid||,| |StateInitial||,| |StateFinal||,| |ControlGrid||,| 
% |NStages||,| |ExtSysName||,| |IntSysName||)| creates the basic problem structure 
% prob, using the configuration matrices approach.
% 
% |prob| |= DynaProg(__,| |Name||,| |Value||)| specifies additional properties 
% and information with parameter/value pairs.
% 
% |prob| |= run(prob)| runs the optimization algorithm on an existing problem 
% structure and stores the results in the problem structure |prob|.
% 
% |plot(prob)| visualizes results of an existing problem structure containing 
% optimization results.
%% Input Arguments
% |StateGrid|
% |StateGrid| is a cell array of numeric vectors, where each vector defines 
% the discretized grid for a state variable.
% |StateInitial|
% |StateInitial| is a cell array of scalar values, where each value defines 
% the initial value for a state variable.
% |StateFinal|
% |StateFinal| is a cell array of two-element vectors, where each vector defines 
% lower and upper constraints for the final value for each state variable. Each 
% vector must contain the lower and upper bound, in this order.
% |ControlGrid|
% |ControlGrid| is a cell array of numeric vectors, where each vector defines 
% the discretized grid for a control variable.    
% |NStages|    
% |NStages| is the number of stages of the optimization problem.
% |SysName|
% |SyaName| is a function handle to the model function. The model function must 
% return the updated state value and the stage cost as a function of the current 
% state value and the control variables. Additionally, it can accept an exogenous 
% input and it can return unfeasibilities.The structure of the model function 
% must be:
% 
% |[x_next, stageCost, unfeas] = SysName(x, u, w);|
% 
% where:
%% 
% * |x| is a cell array, where each cell contains the value for a state variable.
% * |u| is a cell array, where each cell contains the value for a control variable.
% * |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable. If not needed, replace with a tilde (~) in the function 
% signature.
% * |x_next| is a cell array, where each cell contains the value for the updated 
% state variable.
% * |stageCost| is a numeric variable, containing the stage cost.
% * |unfeas| is either an empty array a boolean variable, set to true for unfeasible 
% (not allowed) combinations of state variables, control variables and exogenous 
% inputs. If not needed, return an empty array ([]) in its place.
% |ExtSysName|
% |ExtSysName| is a function handle to the external model function. The external 
% model function must return the intermediate variables as a function of the control 
% variables. Additionally, it can accept exogenous inputs and it can return unfeasibilities. 
% The structure of the external model function must be:    
% 
% |[m, unfeas] = ExtSysName(u, w);|
% 
% where:
% 
% |u| is a cell array, where each cell contains the value for a control variable. 
% 
% |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable.
% 
% |m| is a cell array, where each cell contains the value for an intermediate 
% variable.
% 
% |unfeas| (optional) is a boolean variable, set to true for unfeasible (not 
% allowed) combinations of state variables, control variables and exogenous inputs.
% |IntSysName|
% |IntSysName| is a function handle to the internal model function. The internal 
% model function must return the updated state value and the stage cost as a function 
% of the current state value, the control variables and the intermediate variables. 
% Additionally, it can accept an exogenous input and it can return unfeasibilities 
% (both are optional).
% 
% The structure of the model function must be:
% 
% |[x_next, stageCost, unfeas] = IntSysName(x, u, m, w);|
% 
% where:
%% 
% * |x| is a cell array, where each cell contains the value for a state variable.
% * |u| is a cell array, where each cell contains the value for a control variable.
% * |m| is a cell array, where each cell contains the value for an intermediate 
% variable.
% * |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable.
% * |x_next| is a cell array, where each cell contains the value for the updated 
% state variable.
% * |stageCost| is a numeric variable, containing the stage cost.
% * |unfeas| (optional) is a boolean variable, set to true for unfeasible (not 
% allowed) combinations of state variables, control variables and exogenous inputs.
% Name-Value Pair Arguments
% Optional arguments. Specify each argument with a pair of arguments |Name, 
% Value. Name| is one of the argument names specified below and it must be written 
% inside quotes.  |Value| is the value you want to specify for that setting. You 
% can specify any number of name-value pair arguments, in any order.
% |*'UseLevelSet'*|
% Enable Level-Set DP. Defaults to false if unspecified.
% |*'ExogenousInput'*|
% Specify exogenous inputs required for your model in a cell array of numeric 
% vectors. Each vector must have the same length as the number of stages of the 
% optimization problem.
% |'SafeMode'|
% Enable Safe Mode (see the documentation).
% |'StoreControlMap'|
% Store the optimal control variables as a function of state for each stage. 
% This cv map is returned in |prob.ControlMap| as a $NC$- by - $N_{stages}$ cell 
% array, $NC$being the number of control variables. Each cell is a  $N_{SV_1} 
% \times N_{SV_2} \times ... \times N_{SV__{NS}} $ array which contain the optimal 
% value for the correspondant control variable and stage as a function of the 
% state variables.
% |'StateName'|
% Specify state variables names in a string array. 
% |'ControlName'|
% Specify state variables names in a string array.
% |*'CostName'*|
% Specify the cumulative cost name as a string.
% |*'Time'*|
% Specify time instead of stages. This property is only used in the plots produced 
% with the plot method. It does not affect the optimization.
%% Output Arguments
% |prob|
% Problem structure, containing all the information required to set up and run 
% the optimization. After |run| is used on a problem structure to run the optmization 
% algorithm, it also contains the optimization results.
##### SOURCE END #####
-->
</div></body></html>