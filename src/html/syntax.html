<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB 2020b"><title>DynaProg</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.S3 { border-left: 0px none rgb(0, 0, 0); border-right: 0px none rgb(0, 0, 0); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px; line-height: 16px; min-height: 16px; white-space: pre; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;  }
.S4 { margin: 10px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 15px; font-weight: 700; text-align: left;  }
.S5 { margin: 10px 0px 20px; padding-left: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;  }
.S6 { margin-left: 56px; line-height: 21px; min-height: 0px; text-align: left; white-space: pre-wrap;  }
.S7 { margin: 15px 10px 5px 4px; padding: 0px; line-height: 18px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 17px; font-weight: 700; text-align: left;  }
.S8 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: right;  }</style></head><body><div class = rtcContent><h1  class = 'S0' id = 'T_305D4575' ><span>DynaProg</span></h1><div  class = 'S1'><span>Solve multi-stage deterministic decision problems</span></div><h2  class = 'S2' id = 'H_F09D08F5' ><span>Syntax</span></h2><div class = 'preformatted-matlab' style = 'margin: 10px 3px 10px 55px; padding: 10px 10px 10px 5px; '><div  class = 'S3'><span style="white-space: pre;"><span>prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, SysName)</span></span></div><div  class = 'S3'><span style="white-space: pre;"><span>prob = DynaProg(StateGrid, StateInitial, [], ControlGrid, NStages, SysName)</span></span></div><div  class = 'S3'><span style="white-space: pre;"><span>prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, ExtSysName, IntSysName)</span></span></div><div  class = 'S3'><span style="white-space: pre;"><span>prob = DynaProg(</span><span style="color: rgb(255, 0, 0);">__</span><span>, Name, Value)</span></span></div><div  class = 'S3'></div><div  class = 'S3'><span style="white-space: pre;"><span>prob = run(prob)</span></span></div><div  class = 'S3'><span style="white-space: pre;"><span>plot(prob)</span></span></div></div><h2  class = 'S2' id = 'H_31B35881' ><span>Description</span></h2><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_A944F2B8"><span style=' font-family: monospace;'>StateFinal</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_ED3B20E2"><span style=' font-family: monospace;'>SysName</span></a><span style=' font-family: monospace;'>) </span><span>creates the basic problem structure </span><span style=' font-family: monospace;'>prob</span><span>.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, [], </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_ED3B20E2"><span style=' font-family: monospace;'>SysName</span></a><span style=' font-family: monospace;'>)</span><span>  creates the basic problem structure </span><span style=' font-family: monospace;'>prob</span><span>, with no contraints on the final state.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(</span><a href = "#H_E1616ABE"><span style=' font-family: monospace;'>StateGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_B28539B7"><span style=' font-family: monospace;'>StateInitial</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_A944F2B8"><span style=' font-family: monospace;'>StateFinal</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_4CD65B8C"><span style=' font-family: monospace;'>ControlGrid</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_DDBB8435"><span style=' font-family: monospace;'>NStages</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_88B8643C"><span style=' font-family: monospace;'>ExtSysName</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_038C78B9"><span style=' font-family: monospace;'>IntSysName</span></a><span style=' font-family: monospace;'>)</span><span> creates the basic problem structure prob, using the configuration matrices approach.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = DynaProg(__, </span><a href = "#H_2F2B9A2D"><span style=' font-family: monospace;'>Name</span></a><span style=' font-family: monospace;'>, </span><a href = "#H_2F2B9A2D"><span style=' font-family: monospace;'>Value</span></a><span style=' font-family: monospace;'>) </span><span>specifies additional properties and information with parameter/value pairs.</span></div><div  class = 'S1'><a href = "#H_9FE2499E"><span style=' font-family: monospace;'>prob</span></a><span style=' font-family: monospace;'> = run(prob) </span><span>runs the optimization algorithm on an existing problem structure and stores the results in the problem structure </span><span style=' font-family: monospace;'>prob</span><span>.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>plot(prob) </span><span>visualizes results of an existing problem structure containing optimization results.</span></div><h2  class = 'S2' id = 'H_7F17859C' ><span>Input Arguments</span></h2><h4  class = 'S4' id = 'H_E1616ABE' ><span style=' font-family: monospace;'>StateGrid</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateGrid</span><span> is a cell array of numeric vectors, where each vector defines the discretized grid for a state variable.</span></div><h4  class = 'S4' id = 'H_B28539B7' ><span style=' font-family: monospace;'>StateInitial</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateInitial</span><span> is a cell array of scalar values, where each value defines the initial value for a state variable.</span></div><h4  class = 'S4' id = 'H_A944F2B8' ><span style=' font-family: monospace;'>StateFinal</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>StateFinal</span><span> is a cell array of two-element vectors, where each vector defines lower and upper constraints for the final value for each state variable. Each vector must contain the lower and upper bound, in this order.</span></div><h4  class = 'S4' id = 'H_4CD65B8C' ><span style=' font-family: monospace;'>ControlGrid</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>ControlGrid </span><span>is a cell array of numeric vectors, where each vector defines the discretized grid for a control variable.    </span></div><h4  class = 'S4' id = 'H_DDBB8435' ><span style=' font-family: monospace;'>NStages</span><span>    </span></h4><div  class = 'S1'><span style=' font-family: monospace;'>NStages</span><span> is the number of stages of the optimization problem.</span></div><h4  class = 'S4' id = 'H_ED3B20E2' ><span style=' font-family: monospace;'>SysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>SyaName</span><span> is a function handle to the model function. The model function must return the updated state value and the stage cost as a function of the current state value and the control variables. Additionally, it can accept an exogenous input and it can return unfeasibilities.The structure of the model function must be:</span></div><div  class = 'S1'><span>     </span><span style=' font-family: monospace;'>[x_next, stageCost, unfeas] = SysName(x, u, w);</span></div><div  class = 'S1'><span>where:</span></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>x</span><span> is a cell array, where each cell contains the value for a state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable. If not needed, replace with a tilde (~) in the function signature.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>x_next </span><span>is a cell array, where each cell contains the value for the updated state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>stageCost</span><span> is a numeric variable, containing the stage cost.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>unfeas </span><span>is either an empty array a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs. If not needed, return an empty array ([]) in its place.</span></li></ul><h4  class = 'S4' id = 'H_88B8643C' ><span style=' font-family: monospace;'>ExtSysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>ExtSysName </span><span>is a function handle to the external model function. The external model function must return the intermediate variables as a function of the control variables. Additionally, it can accept exogenous inputs and it can return unfeasibilities. The structure of the external model function must be:    </span></div><div  class = 'S1'><span style=' font-family: monospace;'>    [m, unfeas] = ExtSysName(u, w);</span></div><div  class = 'S1'><span>where:</span></div><div  class = 'S1'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable. </span></div><div  class = 'S1'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>m</span><span> is a cell array, where each cell contains the value for an intermediate variable.</span></div><div  class = 'S1'><span style=' font-family: monospace;'>unfeas </span><span>(optional) is a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs.</span></div><h4  class = 'S4' id = 'H_038C78B9' ><span style=' font-family: monospace;'>IntSysName</span></h4><div  class = 'S1'><span style=' font-family: monospace;'>IntSysName </span><span>is a function handle to the internal model function. The internal model function must return the updated state value and the stage cost as a function of the current state value, the control variables and the intermediate variables. Additionally, it can accept an exogenous input and it can return unfeasibilities (both are optional).</span></div><div  class = 'S1'><span>The structure of the model function must be:</span></div><div  class = 'S1'><span style=' font-family: monospace;'>[x_next, stageCost, unfeas] = IntSysName(x, u, m, w);</span></div><div  class = 'S1'><span>where:</span></div><ul  class = 'S5'><li  class = 'S6'><span style=' font-family: monospace;'>x</span><span> is a cell array, where each cell contains the value for a state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>u</span><span> is a cell array, where each cell contains the value for a control variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>m</span><span> is a cell array, where each cell contains the value for an intermediate variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>w</span><span> (optional) is a cell array, where each cell contains the value for an exogenous input variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>x_next</span><span> is a cell array, where each cell contains the value for the updated state variable.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>stageCost </span><span>is a numeric variable, containing the stage cost.</span></li><li  class = 'S6'><span style=' font-family: monospace;'>unfeas</span><span> (optional) is a boolean variable, set to true for unfeasible (not allowed) combinations of state variables, control variables and exogenous inputs.</span></li></ul><h3  class = 'S7' id = 'H_2F2B9A2D' ><span>Name-Value Pair Arguments</span></h3><div  class = 'S1'><span>Optional arguments. Specify each argument with a pair of arguments </span><span style=' font-family: monospace;'>Name, Value. Name </span><span>is one of the argument names specified below and it must be written inside quotes.  </span><span style=' font-family: monospace;'>Value </span><span>is the value you want to specify for that setting. You can specify any number of name-value pair arguments, in any order.</span></div><h4  class = 'S4' id = 'H_AA34F1F5' ><span style=' font-weight: bold; font-family: monospace;'>'UseLevelSet'</span></h4><div  class = 'S1'><span>Enable Level-Set DP. Defaults to false if unspecified.</span></div><h4  class = 'S4' id = 'H_C96247C3' ><span style=' font-weight: bold; font-family: monospace;'>'ExogenousInput'</span></h4><div  class = 'S1'><span>Specify exogenous inputs required for your model in a cell array of numeric vectors. Each vector must have the same length as the number of stages of the optimization problem.</span></div><h4  class = 'S4'><span style=' font-family: monospace;'>'SafeMode'</span></h4><div  class = 'S1'><span>Enable Safe Mode (see the </span><a href = "./troubleshooting.html"><span>documentation</span></a><span>).</span></div><h4  class = 'S4'><span style=' font-family: monospace;'>'StoreControlMap'</span></h4><div  class = 'S1'><span>Store the optimal control variables as a function of state for each stage. This cv map is returned in </span><span style=' font-family: monospace;'>prob.ControlMap</span><span> as a </span><span texencoding="NC" style="vertical-align:-5px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAkCAYAAAAkcgIJAAAD50lEQVRYR+3XaehtYxQG8N81hZB5SqZIZooPhsxFKFxE5qHMIZGITMkYIXPkg1lEEgqZQoTMCpmnRKZQxh69W/seezj/zune27+z6nw4e6+93vWs4VnrnWEayYxphMUEzNyazUlmJpmZDREYpswux4I1X37GKR2+7YXtmIVc/sZVeKfju2VwANbHulgL+e4rvICX8DlOwkx8O2hrGDALYWfcjgWKgR3weIdjK+J5rIxncSA+atFfvATneMyPe3EP3sO82BBnYs3y/ddYvsnWMGCq7y7ByeXPfdizp3JuxOFYB++26O6IOxFAH2BvvNqguzAew2Z4FDuNCuZ+7FaM/IFVS9rbMD1RynPzFoWDcBPmQ2wfgh86ArQRXsalOHUUMEn/dyX9hxZD5+KslsMTyeifgwsadPbDbeX5w9il9EcfTbyGi0rJ/0932DLbBo9gudLEK+BLrILfGzxIGcTJNPObA++T0Ti1WLGRnvimD0V5f20hkrdHyUyisQm2x9m1jOyDuxsMX4awWghgUJ7BluXhUbh+SCBRCyH81ZbFYTOTSN6BCxGm+rjU+lNI1gblDTyHIwdebIv0UiTZCNjfpgCmU3UYMHE+/J7MpAEjyUaYJ7Ie3qqdUunvjgcGTg9zJZuRK3DiuIDEzjBg0vCh5WVLivPd1niyOHI1jqs5dTBuwFLIgK0k9JsZUc2qJrAjYRsGzF3lhCqi1YFp7Ezqn0rpVY6HpUIUGax1yYxI6VWydNMUHwVNH5g0XGo760tmQl2OxjXlwTEI08Re1o8QRkigLvvj1vIgfZLNYqzSB6aKZij4k4GTF8VnhWLT8BtgY7yCtRum/uk4v9j4tIXpRgLXByZDb9+y9DUdlOWx6petkGkfBlu9QTm9d3N5nhkVohir9IF5EfnVG7zuQDJQDbAwVUgie9ixDV5uWmzlVbbhbAljo+UY7QKTzfQL7NFAsXVfsz1n5c8mECeznj/UACbOhyzmKe9CHo2TvOHbEErsZ0VqlS4wR5SmXgI/dtiI81nbI4l0KPmXFv1bEOqODFJ62xGrlT0uG3jXfagzM0+Xul6jp7Cz9X6IlbrW82IjgUk2kvVEOoP49Q77ofdcDsOEXXr/mmjLzK54sKwtAZOVv0vOwHk4AVf26MbBrEaZM7/itELZ9ZvjFoVIUooB0nYfmuWoQTCLlNmRAVlN6lyWUkYVrTb5mkhnX8vh7/eAyeslcTEOqwU020HKOSz3Pa4r86ppK288oo/NhvDrP5WsJ7lkTUUCKjfRBCEgQji5LmeB/XMqhrrKbKp25gr9cWZmjgOagJnjKWhxYJKZSWZmQwSmVZn9A84tuCXkJPqKAAAAAElFTkSuQmCC" width="25.5" height="18" alt="NC" /></span><span>- by - </span><span texencoding="N_{stages}" style="vertical-align:-6px"><img src="data:image/png;base64,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" width="38" height="20" /></span><span> cell array, </span><span texencoding="NC" style="vertical-align:-5px"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAkCAYAAAAkcgIJAAAD50lEQVRYR+3XaehtYxQG8N81hZB5SqZIZooPhsxFKFxE5qHMIZGITMkYIXPkg1lEEgqZQoTMCpmnRKZQxh69W/seezj/zune27+z6nw4e6+93vWs4VnrnWEayYxphMUEzNyazUlmJpmZDREYpswux4I1X37GKR2+7YXtmIVc/sZVeKfju2VwANbHulgL+e4rvICX8DlOwkx8O2hrGDALYWfcjgWKgR3weIdjK+J5rIxncSA+atFfvATneMyPe3EP3sO82BBnYs3y/ddYvsnWMGCq7y7ByeXPfdizp3JuxOFYB++26O6IOxFAH2BvvNqguzAew2Z4FDuNCuZ+7FaM/IFVS9rbMD1RynPzFoWDcBPmQ2wfgh86ArQRXsalOHUUMEn/dyX9hxZD5+KslsMTyeifgwsadPbDbeX5w9il9EcfTbyGi0rJ/0932DLbBo9gudLEK+BLrILfGzxIGcTJNPObA++T0Ti1WLGRnvimD0V5f20hkrdHyUyisQm2x9m1jOyDuxsMX4awWghgUJ7BluXhUbh+SCBRCyH81ZbFYTOTSN6BCxGm+rjU+lNI1gblDTyHIwdebIv0UiTZCNjfpgCmU3UYMHE+/J7MpAEjyUaYJ7Ie3qqdUunvjgcGTg9zJZuRK3DiuIDEzjBg0vCh5WVLivPd1niyOHI1jqs5dTBuwFLIgK0k9JsZUc2qJrAjYRsGzF3lhCqi1YFp7Ezqn0rpVY6HpUIUGax1yYxI6VWydNMUHwVNH5g0XGo760tmQl2OxjXlwTEI08Re1o8QRkigLvvj1vIgfZLNYqzSB6aKZij4k4GTF8VnhWLT8BtgY7yCtRum/uk4v9j4tIXpRgLXByZDb9+y9DUdlOWx6petkGkfBlu9QTm9d3N5nhkVohir9IF5EfnVG7zuQDJQDbAwVUgie9ixDV5uWmzlVbbhbAljo+UY7QKTzfQL7NFAsXVfsz1n5c8mECeznj/UACbOhyzmKe9CHo2TvOHbEErsZ0VqlS4wR5SmXgI/dtiI81nbI4l0KPmXFv1bEOqODFJ62xGrlT0uG3jXfagzM0+Xul6jp7Cz9X6IlbrW82IjgUk2kvVEOoP49Q77ofdcDsOEXXr/mmjLzK54sKwtAZOVv0vOwHk4AVf26MbBrEaZM7/itELZ9ZvjFoVIUooB0nYfmuWoQTCLlNmRAVlN6lyWUkYVrTb5mkhnX8vh7/eAyeslcTEOqwU020HKOSz3Pa4r86ppK288oo/NhvDrP5WsJ7lkTUUCKjfRBCEgQji5LmeB/XMqhrrKbKp25gr9cWZmjgOagJnjKWhxYJKZSWZmQwSmVZn9A84tuCXkJPqKAAAAAElFTkSuQmCC" width="25.5" height="18" alt="NC" /></span><span>being the number of control variables. Each cell is a  </span><span texencoding="N_{SV_1} \times N_{SV_2} \times ... \times N_{SV__{NS}} " style="vertical-align:-10px"><img src="data:image/png;base64,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" width="150.5" height="24" alt="N_{SV_1} x N_{SV_2} x ... x N_{SV__{NS}}" /></span><span> array which contain the optimal value for the correspondant control variable and stage as a function of the state variables.</span></div><h4  class = 'S4'><span style=' font-weight: bold; font-family: monospace;'>'StoreValueFunction'</span></h4><div  class = 'S1'><span>Store the value function. If </span><span style=' font-family: monospace;'>true</span><span>, running the problem also stores the value function for each stage in a cell array VF.</span></div><h4  class = 'S4' id = 'H_46FC9527' ><span style=' font-family: monospace;'>'StateName'</span></h4><div  class = 'S1'><span>Specify state variables names in a string array. </span></div><h4  class = 'S4' id = 'H_AF88898F' ><span style=' font-family: monospace;'>'ControlName'</span></h4><div  class = 'S1'><span>Specify state variables names in a string array.</span></div><h4  class = 'S4' id = 'H_E4B2F10F' ><span style=' font-weight: bold; font-family: monospace;'>'CostName'</span></h4><div  class = 'S1'><span>Specify the cumulative cost name as a string.</span></div><h4  class = 'S4' id = 'H_340BB385' ><span style=' font-weight: bold; font-family: monospace;'>'Time'</span></h4><div  class = 'S1'><span>Specify time instead of stages. This property is only used in the plots produced with the plot method. It does not affect the optimization.</span></div><h4  class = 'S4'><span style=' font-weight: bold; font-family: monospace;'>'VFInitialization'</span></h4><div  class = 'S1' id = 'M_B56D103C' ><span> Specify how final state values outside of the final state constraints bounds should be penalized. </span></div><ul  class = 'S5'><li  class = 'S6'><span>Set to </span><span style=' font-family: monospace;'>'rift'</span><span> to penalize state values outside of the bounds specified as </span><span style=' font-family: monospace;'>StateFinal</span><span> penalize with a cost equal to infinity. </span></li><li  class = 'S6'><span>Set to </span><span style=' font-family: monospace;'>'linear'</span><span> to penalize them with a cost term proportional to the distance from the bounds.</span></li></ul><div  class = 'S1'><span>This property defaults to </span><span style=' font-family: monospace;'>'linear'</span><span> if </span><span style=' font-family: monospace;'>'UseLevelSet'</span><span> is set to </span><span style=' font-family: monospace;'>true</span><span> and it is set to </span><span style=' font-family: monospace;'>'rift'</span><span> otherwise. </span></div><div  class = 'S1'><span>Read the Terminal cost section in the </span><a href = "./theory.html"><span>Theory</span></a><span> guide for more information.</span></div><h4  class = 'S4'><span style=' font-weight: bold; font-family: monospace;'>'VFFactors'</span></h4><div  class = 'S1'><span>Specify the proportionality factors for the linear terminal cost. This property is only used if </span><span style=' font-family: monospace;'>VFInitialization</span><span> is set to </span><span style=' font-family: monospace;'>'linear'</span><span>. Specify as a numeric array with one factor for each state variable. Read the Terminal cost section in the </span><a href = "./theory.html"><span>Theory</span></a><span> guide for more information.</span></div><h4  class = 'S4'><span style=' font-weight: bold; font-family: monospace;'>'myInf'</span></h4><div  class = 'S1'><span>Specify penalty term for the terminal cost when  </span><span style=' font-family: monospace;'>VFInitialization</span><span> is set to </span><span style=' font-family: monospace;'>'rift'</span><span>. This term is used to penalize deviations of the terminal state when it is outside of the terminal state bounds. This term should be larger than your expected total cost by at least one or two orders of magnitude. However, it may cause numerical issues if you set it too large.</span></div><h4  class = 'S4'><span style=' font-weight: bold; font-family: monospace;'>'enforceStateGrid'</span></h4><div  class = 'S1'><span>Set a constraint on the state variables so that they do not exceed the state grids. This constraint is needed if your system allows to strongly exceed the state bounduaries over a single stage (simulation step). Defaults to </span><span style=' font-family: monospace;'>true</span><span> if unspecified.</span></div><h2  class = 'S2'><span>Output Arguments</span></h2><h4  class = 'S4' id = 'H_9FE2499E' ><span style=' font-family: monospace;'>prob</span></h4><div  class = 'S1'><span>Problem structure, containing all the information required to set up and run the optimization. After </span><span style=' font-family: monospace;'>run</span><span> is used on a problem structure to run the optmization algorithm, it also contains the optimization results.</span></div><div  class = 'S8'><span style=' font-style: italic;'>Contact: federico.miretti@polito.it</span></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% DynaProg
% Solve multi-stage deterministic decision problems
%% Syntax
%%
% 
%   prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, SysName)
%   prob = DynaProg(StateGrid, StateInitial, [], ControlGrid, NStages, SysName)
%   prob = DynaProg(StateGrid, StateInitial, StateFinal, ControlGrid, NStages, ExtSysName, IntSysName)
%   prob = DynaProg(__, Name, Value)
%   
%   prob = run(prob)
%   plot(prob)
%
%% Description
% <internal:H_9FE2499E |prob|> |= DynaProg(|<internal:H_E1616ABE |StateGrid|>|,| 
% <internal:H_B28539B7 |StateInitial|>|,| <internal:H_A944F2B8 |StateFinal|>|,| 
% <internal:H_4CD65B8C |ControlGrid|>|,| <internal:H_DDBB8435 |NStages|>|,| <internal:H_ED3B20E2 
% |SysName|>|)| creates the basic problem structure |prob|.
% 
% <internal:H_9FE2499E |prob|> |= DynaProg(|<internal:H_E1616ABE |StateGrid|>|,| 
% <internal:H_B28539B7 |StateInitial|>|, [],| <internal:H_4CD65B8C |ControlGrid|>|,| 
% <internal:H_DDBB8435 |NStages|>|,| <internal:H_ED3B20E2 |SysName|>|)|  creates 
% the basic problem structure |prob|, with no contraints on the final state.
% 
% <internal:H_9FE2499E |prob|> |= DynaProg(|<internal:H_E1616ABE |StateGrid|>|,| 
% <internal:H_B28539B7 |StateInitial|>|,| <internal:H_A944F2B8 |StateFinal|>|,| 
% <internal:H_4CD65B8C |ControlGrid|>|,| <internal:H_DDBB8435 |NStages|>|,| <internal:H_88B8643C 
% |ExtSysName|>|,| <internal:H_038C78B9 |IntSysName|>|)| creates the basic problem 
% structure prob, using the configuration matrices approach.
% 
% <internal:H_9FE2499E |prob|> |= DynaProg(__,| <internal:H_2F2B9A2D |Name|>|,| 
% <internal:H_2F2B9A2D |Value|>|)| specifies additional properties and information 
% with parameter/value pairs.
% 
% <internal:H_9FE2499E |prob|> |= run(prob)| runs the optimization algorithm 
% on an existing problem structure and stores the results in the problem structure 
% |prob|.
% 
% |plot(prob)| visualizes results of an existing problem structure containing 
% optimization results.
%% Input Arguments
% |StateGrid|
% |StateGrid| is a cell array of numeric vectors, where each vector defines 
% the discretized grid for a state variable.
% |StateInitial|
% |StateInitial| is a cell array of scalar values, where each value defines 
% the initial value for a state variable.
% |StateFinal|
% |StateFinal| is a cell array of two-element vectors, where each vector defines 
% lower and upper constraints for the final value for each state variable. Each 
% vector must contain the lower and upper bound, in this order.
% |ControlGrid|
% |ControlGrid| is a cell array of numeric vectors, where each vector defines 
% the discretized grid for a control variable.    
% |NStages|    
% |NStages| is the number of stages of the optimization problem.
% |SysName|
% |SyaName| is a function handle to the model function. The model function must 
% return the updated state value and the stage cost as a function of the current 
% state value and the control variables. Additionally, it can accept an exogenous 
% input and it can return unfeasibilities.The structure of the model function 
% must be:
% 
% |[x_next, stageCost, unfeas] = SysName(x, u, w);|
% 
% where:
%% 
% * |x| is a cell array, where each cell contains the value for a state variable.
% * |u| is a cell array, where each cell contains the value for a control variable.
% * |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable. If not needed, replace with a tilde (~) in the function 
% signature.
% * |x_next| is a cell array, where each cell contains the value for the updated 
% state variable.
% * |stageCost| is a numeric variable, containing the stage cost.
% * |unfeas| is either an empty array a boolean variable, set to true for unfeasible 
% (not allowed) combinations of state variables, control variables and exogenous 
% inputs. If not needed, return an empty array ([]) in its place.
% |ExtSysName|
% |ExtSysName| is a function handle to the external model function. The external 
% model function must return the intermediate variables as a function of the control 
% variables. Additionally, it can accept exogenous inputs and it can return unfeasibilities. 
% The structure of the external model function must be:    
% 
% |[m, unfeas] = ExtSysName(u, w);|
% 
% where:
% 
% |u| is a cell array, where each cell contains the value for a control variable. 
% 
% |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable.
% 
% |m| is a cell array, where each cell contains the value for an intermediate 
% variable.
% 
% |unfeas| (optional) is a boolean variable, set to true for unfeasible (not 
% allowed) combinations of state variables, control variables and exogenous inputs.
% |IntSysName|
% |IntSysName| is a function handle to the internal model function. The internal 
% model function must return the updated state value and the stage cost as a function 
% of the current state value, the control variables and the intermediate variables. 
% Additionally, it can accept an exogenous input and it can return unfeasibilities 
% (both are optional).
% 
% The structure of the model function must be:
% 
% |[x_next, stageCost, unfeas] = IntSysName(x, u, m, w);|
% 
% where:
%% 
% * |x| is a cell array, where each cell contains the value for a state variable.
% * |u| is a cell array, where each cell contains the value for a control variable.
% * |m| is a cell array, where each cell contains the value for an intermediate 
% variable.
% * |w| (optional) is a cell array, where each cell contains the value for an 
% exogenous input variable.
% * |x_next| is a cell array, where each cell contains the value for the updated 
% state variable.
% * |stageCost| is a numeric variable, containing the stage cost.
% * |unfeas| (optional) is a boolean variable, set to true for unfeasible (not 
% allowed) combinations of state variables, control variables and exogenous inputs.
% Name-Value Pair Arguments
% Optional arguments. Specify each argument with a pair of arguments |Name, 
% Value. Name| is one of the argument names specified below and it must be written 
% inside quotes.  |Value| is the value you want to specify for that setting. You 
% can specify any number of name-value pair arguments, in any order.
% |*'UseLevelSet'*|
% Enable Level-Set DP. Defaults to false if unspecified.
% |*'ExogenousInput'*|
% Specify exogenous inputs required for your model in a cell array of numeric 
% vectors. Each vector must have the same length as the number of stages of the 
% optimization problem.
% |'SafeMode'|
% Enable Safe Mode (see the <matlab:open('./troubleshooting.mlx') documentation>).
% |'StoreControlMap'|
% Store the optimal control variables as a function of state for each stage. 
% This cv map is returned in |prob.ControlMap| as a $NC$- by - $N_{stages}$ cell 
% array, $NC$being the number of control variables. Each cell is a  $N_{SV_1} 
% \times N_{SV_2} \times ... \times N_{SV__{NS}} $ array which contain the optimal 
% value for the correspondant control variable and stage as a function of the 
% state variables.
% |*'StoreValueFunction'*|
% Store the value function. If |true|, running the problem also stores the value 
% function for each stage in a cell array VF.
% |'StateName'|
% Specify state variables names in a string array. 
% |'ControlName'|
% Specify state variables names in a string array.
% |*'CostName'*|
% Specify the cumulative cost name as a string.
% |*'Time'*|
% Specify time instead of stages. This property is only used in the plots produced 
% with the plot method. It does not affect the optimization.
% |*'VFInitialization'*|
% Specify how final state values outside of the final state constraints bounds 
% should be penalized. 
%% 
% * Set to |'rift'| to penalize state values outside of the bounds specified 
% as |StateFinal| penalize with a cost equal to infinity. 
% * Set to |'linear'| to penalize them with a cost term proportional to the 
% distance from the bounds.
%% 
% This property defaults to |'linear'| if |'UseLevelSet'| is set to |true| and 
% it is set to |'rift'| otherwise. 
% 
% Read the Terminal cost section in the <matlab:open('./theory.mlx') Theory> 
% guide for more information.
% |*'VFFactors'*|
% Specify the proportionality factors for the linear terminal cost. This property 
% is only used if |VFInitialization| is set to |'linear'|. Specify as a numeric 
% array with one factor for each state variable. Read the Terminal cost section 
% in the <matlab:open('./theory.mlx') Theory> guide for more information.
% |*'myInf'*|
% Specify penalty term for the terminal cost when  |VFInitialization| is set 
% to |'rift'|. This term is used to penalize deviations of the terminal state 
% when it is outside of the terminal state bounds. This term should be larger 
% than your expected total cost by at least one or two orders of magnitude. However, 
% it may cause numerical issues if you set it too large.
% |*'enforceStateGrid'*|
% Set a constraint on the state variables so that they do not exceed the state 
% grids. This constraint is needed if your system allows to strongly exceed the 
% state bounduaries over a single stage (simulation step). Defaults to |true| 
% if unspecified.
%% Output Arguments
% |prob|
% Problem structure, containing all the information required to set up and run 
% the optimization. After |run| is used on a problem structure to run the optmization 
% algorithm, it also contains the optimization results.
%% 
% _Contact: federico.miretti@polito.it_
##### SOURCE END #####
--></body></html>